<script src="../../node_modules/redux/dist/redux.min.js"></script>

<script>
    (function () {

        function showLoadingSpinner(state = false, action) {
            switch (action.type) {
                case 'SHOW_LOADING_SPINNER':
                    return true;
                case 'LOADING_DONE':
                    return false;
            }
            return state;
        }

        function loadedList(state = [], action) {
            switch (action.type) {
                case 'SET_LOADED_LIST':
                    return action.result;
                case 'CLEAR_LOADED_LIST':
                    return [];
            }
            return state;
        }

        function location(state = {page: "view1"}, action) {
            switch (action.type) {
                case 'LOCATION_CHANGED':
                    return action.location;
            }
            return state;
        }

        function nextLocation(state = {}, action) {
            switch (action.type) {
                case 'NAVIGATE_TO':
                    return action.location;
            }
            return state;
        }

        function clubs(state = {}, action) {
            switch (action.type) {
                case 'SET_CLUB_LIST':
                    return action.clubs;
            }
            return state;
        }

        function queryUrl(state = {}, action) {
            switch (action.type) {
                case 'SET_QUERY_URL':
                    return action.queryUrl;
            }
            return state;
        }

        function id(state={}, action) {
            switch (action.type) {
                case 'SET_CLUB_ID':
                    return action.id;
            }
            return state;
        }

        function editUrl(state = {}, action) {
            switch (action.type) {
                case 'SET_EDIT_URL':
                    return action.editUrl;
            }
            return state;
        }

        function club(state = {}, action) {
            switch (action.type) {
                case 'SET_CLUB':
                    return action.club;
            }
            return state;
        }

        function firebaseApp(state = {}, action) {
            switch (action.type) {
                case 'SET_FIREBASE_APP':
                    return action.app;
            }
            return state;
        }

        function showToast(state= {}, action) {
            switch (action.type) {
                case 'SHOW_INFO':
                    return {
                        type: 'INFO',
                        infoText: action.infoText
                    };
                case 'SHOW_ERROR':
                    return {
                        type: 'ERROR',
                        errorText: action.errorText,
                        exception: action.exception
                    };
                case 'SHOW_QUESTION':
                    return {
                        type: 'QUESTION',
                        questionText: action.questionText,
                        yesText: action.yesText,
                        noText: action.noText,
                        yesAction: action.yesAction,
                        noAction: action.noAction
                    };
            }
            return state;
        }

        function user(state = {}, action) {
            switch(action.type) {
                case 'SIGN_IN_USER':
                    return action.user;
                case 'SIGN_OUT_USER':
                    return null;
            }
            return state;
        }

        AppStore.rootReducer = Redux.combineReducers({
            showLoadingSpinner,
            loadedList,
            location,
            nextLocation,
            clubs,
            queryUrl,
            id,
            editUrl,
            club,
            showToast,
            firebaseApp,
            user
        })

    }());
</script>